(function(i,e){typeof exports=="object"&&typeof module<"u"?module.exports=e():typeof define=="function"&&define.amd?define(e):(i=typeof globalThis<"u"?globalThis:i||self,i.EhMouseTrack=e())})(this,function(){"use strict";class i{constructor(t){this.container=t.container,this.maxDistance=t.maxDistance,this.speedFactor=t.speedFactor,this.direction=t.direction,this.applyDepth=t.applyDepth,this.depthAxis=t.depthAxis,this.depthFactor=t.depthFactor,this.currentPosition={x:0,y:0,z:0},this.targetPosition={x:0,y:0,z:0},this.mouse=window.ElementsHiveUtils.mouse,this.lerpFactor=.09,this.mouseMoveHandler=this.onMouseMove.bind(this),this.renderHandler=this.render.bind(this),this.init()}init(){this.initEvents(),requestAnimationFrame(this.renderHandler)}getPositionZ(){if(!this.applyDepth)return 0;switch(this.depthAxis){case"x":default:return this.targetPosition.x;case"y":return this.targetPosition.y;case"xy":return this.targetPosition.x*this.targetPosition.y/4}}onMouseMove(){this.targetPosition.x=this.direction*(this.mouse.normalizedCurrentPosition.x*this.maxDistance),this.targetPosition.y=this.direction*(-1*this.mouse.normalizedCurrentPosition.y*this.maxDistance),this.targetPosition.z=this.getPositionZ()*this.depthFactor}render(){this.isDestroyed||(requestAnimationFrame(this.renderHandler),!(Math.round(this.targetPosition.x)===Math.round(this.currentPosition.x)&&Math.round(this.targetPosition.y)===Math.round(this.currentPosition.y))&&(this.currentPosition.x=window.ElementsHiveUtils.math.lerp(this.currentPosition.x,this.targetPosition.x,this.lerpFactor*this.speedFactor),this.currentPosition.y=window.ElementsHiveUtils.math.lerp(this.currentPosition.y,this.targetPosition.y,this.lerpFactor*this.speedFactor),this.currentPosition.z=window.ElementsHiveUtils.math.lerp(this.currentPosition.z,this.targetPosition.z,this.lerpFactor*this.speedFactor),this.container.style.setProperty("--eh-position-x",this.currentPosition.x+"px"),this.container.style.setProperty("--eh-position-y",this.currentPosition.y+"px"),this.container.style.setProperty("--eh-position-z",this.currentPosition.z+"px")))}initEvents(){this.isDestroyed=!1,this.mouse.on("move",this.mouseMoveHandler)}resetState(){this.currentPosition={x:0,y:0,z:0},this.targetPosition={x:0,y:0,z:0}}destroy(){this.isDestroyed=!0,this.container.style.setProperty("--eh-position-x","0px"),this.container.style.setProperty("--eh-position-y","0px"),this.container.style.setProperty("--eh-position-z","0px")}}return i});
