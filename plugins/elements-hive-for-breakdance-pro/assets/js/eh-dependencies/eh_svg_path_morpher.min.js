(function(r,a){typeof exports=="object"&&typeof module<"u"?module.exports=a():typeof define=="function"&&define.amd?define(a):(r=typeof globalThis<"u"?globalThis:r||self,r.EhSvgPathMorpher=a())})(this,function(){"use strict";const{toArray:r}=BreakdanceFrontend.utils;class a{constructor(t){this.containerEl=t.containerEl,this.svgEl=t.svgEl,this.pathEl=t.pathEl,this.animationType=t.animationType,this.duration=t.duration,this.delay=t.delay,this.trigger=t.trigger,this.triggerLocation=t.triggerLocation||[0,100],this.ease=t.ease,this.enableMarkers=t.enableMarkers||!1,this.id=t.id||null,this.toPath=t.toPath,this.fromPath=t.fromPath,t.reverse&&(this.toPath=t.fromPath,this.fromPath=t.toPath,this.pathEl.setAttribute("d",this.fromPath),this.pathEl.setAttribute("data-path-to",this.toPath)),this.init()}init(){this.createTimeline()}createTimeline(){var e,i;gsap.registerPlugin(ScrollTrigger);const t={};t.attr={d:this.toPath},t.ease="none",this.animationType==="entrance"&&(t.duration=this.duration,t.delay=this.delay,t.ease=this.ease),this.timeline=gsap.timeline({scrollTrigger:{trigger:this.trigger,start:this.animationType==="entrance"?"top bottom":`top ${100-this.triggerLocation[0]}%`,end:this.animationType==="entrance"?"bottom top":`bottom ${100-this.triggerLocation[1]}%`,markers:this.enableMarkers,id:this.id,scrub:this.animationType=="scroll"?1:!1,toggleActions:this.animationType==="entrance"?"play none none reset":"play",invalidateOnRefresh:!0}}).to(this.pathEl,t),(i=(e=this.timeline)==null?void 0:e.scrollTrigger)==null||i.refresh()}deleteMarkers(){["start","end","scroller-start","scroller-end"].forEach(e=>{const i=`.gsap-marker-${e}.marker-${this.id}`;r(i).forEach(s=>s.remove())})}destroy(){var t,e,i;this.deleteMarkers(),(t=this.timeline)==null||t.invalidate(),(e=this.timeline)==null||e.scrollTrigger.kill(),(i=this.timeline)==null||i.kill(),this.timeline=null,gsap.set(this.pathEl,{clearProps:"all"})}}return a});
