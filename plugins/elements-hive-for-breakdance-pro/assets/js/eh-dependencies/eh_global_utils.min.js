(function(s){typeof define=="function"&&define.amd?define(s):s()})(function(){"use strict";const s=(e,t,i)=>(1-i)*e+i*t,r=(e,t,i,n)=>Math.hypot(i-e,n-t),c=(e,t,i)=>Math.min(Math.max(e,t),i),d=(e,t,i,n,o)=>(e-t)*(o-n)/(i-t)+n,u=(e,t)=>(Math.random()*(t-e)+e).toFixed(2);class m{constructor(){this.events={}}on(t,i){this.events[t]||(this.events[t]=[]),this.events[t].push(i)}removeListener(t,i){console.log("event emitter remote listener start",{event:t,listener:i,events:this.events}),this.events[t]&&(this.events=this.events[t].filter(n=>n!==i)),console.log("event emitter remote listener end",{event:t,listener:i,events:this.events})}emit(t,i){if(this.events[t]){const n=o=>{o(i)};this.events[t].forEach(n)}}}let a=null;class l extends m{constructor(){if(super(),a)return a;a=this,this.currentPosition={x:0,y:0},this.normalizedCurrentPosition={x:0,y:0},this.targetPosition={x:0,y:0},this.normalizedTargetPosition={x:0,y:0},this.distance={x:0,y:0},this.lerpFactor=.08,this.initEventsListerners(),requestAnimationFrame(this.update.bind(this))}updateNormalizedCurrentPosition(){this.normalizedCurrentPosition={x:this.currentPosition.x/window.innerWidth*2-1,y:-(this.currentPosition.y/window.innerHeight)*2+1}}updateNormalizedTargetPosition(){this.normalizedTargetPosition.x=s(this.normalizedTargetPosition.x,this.normalizedCurrentPosition.x,this.lerpFactor),this.normalizedTargetPosition.y=s(this.normalizedTargetPosition.y,this.normalizedCurrentPosition.y,this.lerpFactor)}updateTargetPosition(){this.targetPosition.x=s(this.targetPosition.x,this.currentPosition.x,this.lerpFactor),this.targetPosition.y=s(this.targetPosition.y,this.currentPosition.y,this.lerpFactor)}update(){requestAnimationFrame(this.update.bind(this)),this.updateTargetPosition(),this.updateNormalizedTargetPosition(),this.lastPosition={...this.targetPosition},this.normalizedLastPosition={...this.normalizedTargetPosition},this.emit("raf")}getDistance(){return r(this.currentPosition.x,this.currentPosition.y,this.lastPosition.x,this.lastPosition.y)}getNormalizedDistance(){return r(this.normalizedCurrentPosition.x,this.normalizedCurrentPosition.y,this.normalizedLastPosition.x,this.normalizedLastPosition.y)}onMouseMove(t){this.currentPosition.x=t.touches?t.touches[0].clientX:t.clientX,this.currentPosition.y=t.touches?t.touches[0].clientY:t.clientY,this.updateNormalizedCurrentPosition(),this.emit("move")}initEventsListerners(){"ontouchstart"in window?window.addEventListener("touchmove",this.onMouseMove.bind(this),!1):window.addEventListener("mousemove",this.onMouseMove.bind(this),!1)}}function f(){return"standalone"in navigator||window.matchMedia("(pointer: coarse)").matches?!0:window.matchMedia("(pointer: fine)").matches?!1:"ontouchstart"in window||navigator.maxTouchPoints>0}function w(e){const t=e.getBoundingClientRect();return t.top>=-t.height&&t.left>=-t.width&&t.right<=(window.innerWidth||document.documentElement.clientWidth)+t.width&&t.bottom<=(window.innerHeight||document.documentElement.clientHeight)+t.height}const h=(e=>t=>{try{e.querySelector(t)}catch{return!1}return!0})(document.createDocumentFragment()),P=e=>h(e)?!!document.querySelector(e):!1,g=e=>{var i;if(!e)return;if((e==null?void 0:e.color)!=""&&e[0]==="#")return e;const t=(i=e.match(/(--.*[^/)])/g))==null?void 0:i[0];return getComputedStyle(document.documentElement).getPropertyValue(t).trim()};function p(){const e=t=>t.test(navigator.userAgent);return e(/iphone/i)||e(/ipad/i)?"webkit":e(/chrome|chromium|crios|edg/i)?"blink":e(/firefox|fxios/i)?"gecko":e(/safari/i)?"webkit":"other"}const v=window.matchMedia("(prefers-reduced-motion: reduce)").matches,y=window.matchMedia("(update: none)").matches,x=window.matchMedia("(update: slow)").matches,z=window.matchMedia("(update: fast)").matches;(function(){const e=new l,t={lerp:s,distance:r,clamp:c,mapRange:d,randomFloat:u},i={getBreakdanceColor:g},n={isSelectorValid:h,isSelectorExists:P},o={engine:p(),isRenderUpdateNone:y,isRenderUpdateSlow:x,isRenderUpdateFast:z,isPrefersReducedMotion:v};window.ElementsHiveUtils||(window.ElementsHiveUtils={}),window.ElementsHiveUtils={math:t,mouse:e,isTouchDevice:f,isElementInViewport:w,breakdance:i,dom:n,browser:o}})()});
