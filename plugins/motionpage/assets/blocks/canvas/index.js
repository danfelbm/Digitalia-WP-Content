(()=>{"use strict";var I,e={688:()=>{const I=window.wp.blocks;function e(I,g){return e=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(I,e){return I.__proto__=e,I},e(I,g)}const g=window.wp.blockEditor,i=window.ReactJSXRuntime;function M(){M=function(I,e){return new i(I,void 0,e)};var I=RegExp.prototype,g=new WeakMap;function i(I,M,c){var C=RegExp(I,M);return g.set(C,c||g.get(I)),e(C,i.prototype)}function c(I,e){var i=g.get(e);return Object.keys(i).reduce((function(e,g){var M=i[g];if("number"==typeof M)e[g]=I[M];else{for(var c=0;void 0===I[M[c]]&&c+1<M.length;)c++;e[g]=I[M[c]]}return e}),Object.create(null))}return function(I,g){if("function"!=typeof g&&null!==g)throw new TypeError("Super expression must either be null or a function");I.prototype=Object.create(g&&g.prototype,{constructor:{value:I,writable:!0,configurable:!0}}),Object.defineProperty(I,"prototype",{writable:!1}),g&&e(I,g)}(i,RegExp),i.prototype.exec=function(e){var g=I.exec.call(this,e);if(g){g.groups=c(g,this);var i=g.indices;i&&(i.groups=c(i,this))}return g},i.prototype[Symbol.replace]=function(e,i){if("string"==typeof i){var M=g.get(this);return I[Symbol.replace].call(this,e,i.replace(/\$<([^>]+)>/g,(function(I,e){var g=M[e];return"$"+(Array.isArray(g)?g.join("$"):g)})))}if("function"==typeof i){var C=this;return I[Symbol.replace].call(this,e,(function(){var I=arguments;return"object"!=typeof I[I.length-1]&&(I=[].slice.call(I)).push(c(I,C)),i.apply(this,I)}))}return I[Symbol.replace].call(this,e,i)},M.apply(this,arguments)}const{InspectorControls:c,BlockControls:C,MediaReplaceFlow:t,MediaPlaceholder:l,MediaUploadCheck:A}=window.wp.blockEditor,{ToggleControl:n,PanelBody:s,PanelRow:o,TextControl:N,ToolbarGroup:a,ToolbarButton:j,RangeControl:r}=window.wp.components,{useEffect:u}=window.wp.element,D=JSON.parse('{"UU":"motionpage/canvas"}');(0,I.registerBlockType)(D.UU,{edit:function({clientId:I,attributes:{imageToggle:e,customID:D,image:w,sequenceID:b,height:d,styleID:x},setAttributes:y}){function S({url:I,id:e},g=!1){if(!e&&!g)return;y({image:{url:I,id:e}});const i=M(/\/(?:uploads\/)?(?:sequence|motionpage)\/(.*?)\/.*\..*$/gim,{folder:1}).exec(I);y(i?.groups?.folder?{sequenceID:i.groups.folder}:{sequenceID:""})}return u((()=>{!x&&I&&y({styleID:`${I.slice(0,4)}:${I.slice(-5,-1)}`})}),[]),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(C,{children:[(0,i.jsx)(a,{children:(0,i.jsx)(j,{icon:(0,i.jsx)("img",{src:"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iMTM3cHgiIGhlaWdodD0iMTQxcHgiIHZpZXdCb3g9IjAgMCAxMzcgMTQxIiB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiPgogICAgPHRpdGxlPm1wPC90aXRsZT4KICAgIDxkZWZzPgogICAgICAgIDxsaW5lYXJHcmFkaWVudCB4MT0iNTAuMDMwMzcwMyUiIHkxPSI5OS45OTg1MDk3JSIgeDI9IjUwLjAzMDM3MDMlIiB5Mj0iNi41MzczODYwNWUtMTQlIiBpZD0ibGluZWFyR3JhZGllbnQtMSI+CiAgICAgICAgICAgIDxzdG9wIHN0b3AtY29sb3I9IiM2N0M4OTAiIG9mZnNldD0iMCUiPjwvc3RvcD4KICAgICAgICAgICAgPHN0b3Agc3RvcC1jb2xvcj0iIzUwQTdBQyIgb2Zmc2V0PSIxOCUiPjwvc3RvcD4KICAgICAgICAgICAgPHN0b3Agc3RvcC1jb2xvcj0iIzQyNjVCRSIgb2Zmc2V0PSI0MCUiPjwvc3RvcD4KICAgICAgICAgICAgPHN0b3Agc3RvcC1jb2xvcj0iIzNBMkJBQSIgb2Zmc2V0PSI2MSUiPjwvc3RvcD4KICAgICAgICAgICAgPHN0b3Agc3RvcC1jb2xvcj0iIzNFMUQ5OCIgb2Zmc2V0PSI4MSUiPjwvc3RvcD4KICAgICAgICAgICAgPHN0b3Agc3RvcC1jb2xvcj0iIzNFMUQ5OCIgb2Zmc2V0PSIxMDAlIj48L3N0b3A+CiAgICAgICAgPC9saW5lYXJHcmFkaWVudD4KICAgICAgICA8bGluZWFyR3JhZGllbnQgeDE9IjUwJSIgeTE9IjEwMCUiIHgyPSI1MCUiIHkyPSIwJSIgaWQ9ImxpbmVhckdyYWRpZW50LTIiPgogICAgICAgICAgICA8c3RvcCBzdG9wLWNvbG9yPSIjRDA1MkNCIiBvZmZzZXQ9IjAlIj48L3N0b3A+CiAgICAgICAgICAgIDxzdG9wIHN0b3AtY29sb3I9IiMzRTFGOTciIG9mZnNldD0iMTAwJSI+PC9zdG9wPgogICAgICAgIDwvbGluZWFyR3JhZGllbnQ+CiAgICAgICAgPGxpbmVhckdyYWRpZW50IHgxPSI1MCUiIHkxPSItMC4wMDE4MDY4MDc1NCUiIHgyPSI1MCUiIHkyPSIxMDAlIiBpZD0ibGluZWFyR3JhZGllbnQtMyI+CiAgICAgICAgICAgIDxzdG9wIHN0b3AtY29sb3I9IiNEMDUyQ0IiIG9mZnNldD0iMCUiPjwvc3RvcD4KICAgICAgICAgICAgPHN0b3Agc3RvcC1jb2xvcj0iIzNFMUY5NyIgb2Zmc2V0PSIxMDAlIj48L3N0b3A+CiAgICAgICAgPC9saW5lYXJHcmFkaWVudD4KICAgICAgICA8bGluZWFyR3JhZGllbnQgeDE9IjUwLjAwNzcwNzclIiB5MT0iMCUiIHgyPSI1MC4wMDc3MDc3JSIgeTI9IjEwMCUiIGlkPSJsaW5lYXJHcmFkaWVudC00Ij4KICAgICAgICAgICAgPHN0b3Agc3RvcC1jb2xvcj0iI0Y5RjlGOSIgb2Zmc2V0PSIwJSI+PC9zdG9wPgogICAgICAgICAgICA8c3RvcCBzdG9wLWNvbG9yPSIjRjlGOUY5IiBzdG9wLW9wYWNpdHk9IjAuNzQiIG9mZnNldD0iMTYlIj48L3N0b3A+CiAgICAgICAgICAgIDxzdG9wIHN0b3AtY29sb3I9IiNGOUY5RjkiIHN0b3Atb3BhY2l0eT0iMC41MiIgb2Zmc2V0PSIzMyUiPjwvc3RvcD4KICAgICAgICAgICAgPHN0b3Agc3RvcC1jb2xvcj0iI0Y5RjlGOSIgc3RvcC1vcGFjaXR5PSIwLjMzIiBvZmZzZXQ9IjQ4JSI+PC9zdG9wPgogICAgICAgICAgICA8c3RvcCBzdG9wLWNvbG9yPSIjRjlGOUY5IiBzdG9wLW9wYWNpdHk9IjAuMTkiIG9mZnNldD0iNjMlIj48L3N0b3A+CiAgICAgICAgICAgIDxzdG9wIHN0b3AtY29sb3I9IiNGOUY5RjkiIHN0b3Atb3BhY2l0eT0iMC4wOCIgb2Zmc2V0PSI3NyUiPjwvc3RvcD4KICAgICAgICAgICAgPHN0b3Agc3RvcC1jb2xvcj0iI0Y5RjlGOSIgc3RvcC1vcGFjaXR5PSIwLjAyIiBvZmZzZXQ9IjkwJSI+PC9zdG9wPgogICAgICAgICAgICA8c3RvcCBzdG9wLWNvbG9yPSIjRjlGOUY5IiBzdG9wLW9wYWNpdHk9IjAiIG9mZnNldD0iMTAwJSI+PC9zdG9wPgogICAgICAgIDwvbGluZWFyR3JhZGllbnQ+CiAgICAgICAgPGxpbmVhckdyYWRpZW50IHgxPSI1MC4wNjEyNzQ1JSIgeTE9Ii0wLjAzMDQwMTc2NDglIiB4Mj0iNTAuMDYxMjc0NSUiIHkyPSI5OS45NzUxMDEzJSIgaWQ9ImxpbmVhckdyYWRpZW50LTUiPgogICAgICAgICAgICA8c3RvcCBzdG9wLWNvbG9yPSIjNjdDODkwIiBvZmZzZXQ9IjAlIj48L3N0b3A+CiAgICAgICAgICAgIDxzdG9wIHN0b3AtY29sb3I9IiM1MEE3QUMiIG9mZnNldD0iMTclIj48L3N0b3A+CiAgICAgICAgICAgIDxzdG9wIHN0b3AtY29sb3I9IiM0MjY1QkUiIG9mZnNldD0iNDMlIj48L3N0b3A+CiAgICAgICAgICAgIDxzdG9wIHN0b3AtY29sb3I9IiMzRTFEOTgiIG9mZnNldD0iODglIj48L3N0b3A+CiAgICAgICAgICAgIDxzdG9wIHN0b3AtY29sb3I9IiMzRTFEOTgiIG9mZnNldD0iMTAwJSI+PC9zdG9wPgogICAgICAgIDwvbGluZWFyR3JhZGllbnQ+CiAgICA8L2RlZnM+CiAgICA8ZyBpZD0iUGFnZS0xIiBzdHJva2U9Im5vbmUiIHN0cm9rZS13aWR0aD0iMSIgZmlsbD0iI2E3YWFhZCIgZmlsbC1ydWxlPSJldmVub2RkIj4KICAgICAgICA8ZyBpZD0ibXAiIGZpbGwtcnVsZT0ibm9uemVybyI+CiAgICAgICAgICAgIDxwYXRoIGQ9Ik05Ny45NCw4MS4xMyBDOTYuNjIyMjI3Miw3OC41MDA3NDI4IDk0Ljg4NjMwOTYsNzYuMTAyODc5OSA5Mi44LDc0LjAzIEw2Ni40OCw0Ny43MiBMMy41NCwxMTAuNjYgQy0wLjI1MDY0ODYwOSwxMTQuNDUxNzYgLTAuMjUwNjQ4NjA5LDEyMC41OTgyNCAzLjU0LDEyNC4zOSBMMTAuOTgsMTMxLjgyIEMxMi43OTgyODQ4LDEzMy42NDUyNzYgMTUuMjY4NjA4NCwxMzQuNjcxMjk2IDE3Ljg0NSwxMzQuNjcxMjk2IEMyMC40MjEzOTE2LDEzNC42NzEyOTYgMjIuODkxNzE1MiwxMzMuNjQ1Mjc2IDI0LjcxLDEzMS44MiBMNDEuNTIsMTE1IEM0Mi42MywxMTMuOTQgNDguNTIsMTA5IDU1LjY0LDExNS4xMyBMNTUuNjQsMTE1LjEzIEw1NS42NCwxMTUuMTMgQzU1Ljk1NTUzMjIsMTE1LjQwODk5MSA1Ni4yODk2MzMsMTE1LjY2NjI0OSA1Ni42NCwxMTUuOSBDNjYuOTgwOTQ5LDEyMy41MTIwNzkgODEuMTkzNzI3OSwxMjMuMDM1NDggOTEuMDAxNTA3MSwxMTQuNzQ3NzUyIEMxMDAuODA5Mjg2LDEwNi40NjAwMjQgMTAzLjY1MDI2Nyw5Mi41MjU5MjcxIDk3Ljg3LDgxLjA2IEw5Ny45NCw4MS4xMyBaIiBpZD0iUGF0aCIgZmlsbD0iI2E3YWFhZCIgb3BhY2l0eT0iMC43NSI+PC9wYXRoPgogICAgICAgICAgICA8Y2lyY2xlIGlkPSJPdmFsIiBmaWxsPSIjYTdhYWFkIiBvcGFjaXR5PSIwLjYiIGN4PSIxMTguNSIgY3k9IjEyMi4zMSIgcj0iMTcuNzgiPjwvY2lyY2xlPgogICAgICAgICAgICA8cGF0aCBkPSJNMjMuMzQsNC41OSBMNjYuNDgsNDcuNzIgTDMzLjA3LDgxLjEzIEwxNy43Niw4MS4xMyBDOC42MTQxNjQ1NCw4MS4xMyAxLjIsNzMuNzE1ODM1NSAxLjIsNjQuNTcgTDEuMiwxMy43NyBDMS4yMDcxNDIxMSw4LjU2Nzg0MDYzIDQuMzE0ODcwMDksMy44NzA4NDQxNiA5LjEsMS44MyBMOS4xLDEuODMgQzEzLjk2NjQ0NjUsLTAuMjI5NzI5NTk3IDE5LjU5NTQ3MDQsMC44NjEyODkwNzIgMjMuMzQsNC41OSBMMjMuMzQsNC41OSBaIiBpZD0iUGF0aCIgZmlsbD0iI2E3YWFhZCIgb3BhY2l0eT0iMC41Ij48L3BhdGg+CiAgICAgICAgICAgIDxwYXRoIGQ9Ik02Ni40OCw0Ny43MiBMMzMuMDcsODEuMTMgTDk3Ljk0LDgxLjEzIEM5Ny45NCw4MS4xMyA5Ni44OCw3OC4xMyA5MS45NCw3My4yIEw2Ni40OCw0Ny43MiBaIiBpZD0iUGF0aCIgZmlsbD0iI2E3YWFhZCI+PC9wYXRoPgogICAgICAgICAgICA8cGF0aCBkPSJNOTMuOSw3NS4xNSBDOTUuNDUyMjM3OCw3Ni45OTUwODA4IDk2Ljc5Mzg2Myw3OS4wMDc1MTg3IDk3LjksODEuMTUgTDExNS4xNSw4MS4xNSBDMTI0LjI5NTgzNSw4MS4xNSAxMzEuNzEsNzMuNzM1ODM1NSAxMzEuNzEsNjQuNTkgTDEzMS43MSwxMy43OSBDMTMxLjcwMjg1OCw4LjU4Nzg0MDYzIDEyOC41OTUxMywzLjg5MDg0NDE2IDEyMy44MSwxLjg1IEwxMjMuODEsMS44NSBDMTE4Ljk0NjMxNiwtMC4yMDUxOTk2NTIgMTEzLjMyMjY4MiwwLjg4NTU0MDI1NSAxMDkuNTgsNC42MSBMNjYuNDMsNDcuNzQgTDkzLjg2LDc1LjE3IiBpZD0iUGF0aCIgZmlsbD0iI2E3YWFhZCIgb3BhY2l0eT0iMC41Ij48L3BhdGg+CiAgICAgICAgPC9nPgogICAgPC9nPgo8L3N2Zz4=",alt:"Motion.page"}),onClick:function(){const I=btoa(JSON.stringify(window.motionpage.redirect)),e=`&seq=${btoa(`${D}:${null!=b&&b}`)}`,g=`${window.motionpage.motionpage_url}&sp=${I}${D?e:""}`;window.open(g,"_blank")},style:{width:24}})}),(0,i.jsx)(a,{children:(0,i.jsx)(A,{children:(0,i.jsx)(t,{mediaURL:w.url,mediaId:w.id,allowedTypes:["image"],accept:"image/*",onSelect:S,onSelectURL:I=>S({url:I},!0)})})})]}),(0,i.jsx)(c,{children:(0,i.jsxs)(s,{title:"Motion.page Canvas Settings",initialOpen:!0,children:[(0,i.jsx)(o,{children:(0,i.jsx)(N,{label:"Canvas ID:",value:D,onChange:I=>y({customID:I})})}),(0,i.jsx)(o,{children:(0,i.jsx)(n,{label:"Load with default image",checked:e,onChange:I=>y({imageToggle:I})})}),(0,i.jsx)(r,{label:"Height",value:d,onChange:I=>y({height:I}),min:0,max:2e3})]})}),(0,i.jsxs)("div",{...(0,g.useBlockProps)({className:"sequence-stage"}),children:[(0,i.jsx)("img",{className:"sequence-canvas",src:w.url}),(0,i.jsx)(A,{children:(0,i.jsx)(l,{accept:"image/*",allowedTypes:["image"],className:"mp-image-placeholder",labels:{title:"Default Image",instructions:"This image will render underneath the canvas element. You can enable/disable this image in the right sidebar. If the URL of the images contains a location of sequences folder, this will be used in the builder too. You can also decide to use just a different image in the Gutenberg block, without rendering it on the user-facing side."},multiple:!1,onSelect:S,onSelectURL:I=>S({url:I},!0)})})]})]})},save:function({attributes:{customID:I,imageToggle:e,image:M,sequenceID:c,height:C,styleID:t}}){const l=!!I&&I.replace("#","");return(0,i.jsxs)(i.Fragment,{children:[t&&C&&(0,i.jsx)("style",{type:"text/css",children:`[data-style="${t}"]{height:${C}px;}`}),(0,i.jsxs)("div",{...g.useBlockProps.save({className:"sequence-stage"}),...c&&{"data-sequence-folder":c},...t&&{"data-style":t},...C&&{"data-height":C},children:[e&&M?(0,i.jsx)("img",{className:"sequence-canvas-placeholder",src:M.url}):null,(0,i.jsx)("canvas",{...l&&{id:l},...c&&{"data-sequence-folder":c},className:"sequence-canvas"})]})]})}})}},g={};function i(I){var M=g[I];if(void 0!==M)return M.exports;var c=g[I]={exports:{}};return e[I](c,c.exports,i),c.exports}i.m=e,I=[],i.O=(e,g,M,c)=>{if(!g){var C=1/0;for(n=0;n<I.length;n++){g=I[n][0],M=I[n][1],c=I[n][2];for(var t=!0,l=0;l<g.length;l++)(!1&c||C>=c)&&Object.keys(i.O).every((I=>i.O[I](g[l])))?g.splice(l--,1):(t=!1,c<C&&(C=c));if(t){I.splice(n--,1);var A=M();void 0!==A&&(e=A)}}return e}c=c||0;for(var n=I.length;n>0&&I[n-1][2]>c;n--)I[n]=I[n-1];I[n]=[g,M,c]},i.o=(I,e)=>Object.prototype.hasOwnProperty.call(I,e),(()=>{var I={394:0,166:0};i.O.j=e=>0===I[e];var e=(e,g)=>{var M,c,C=g[0],t=g[1],l=g[2],A=0;if(C.some((e=>0!==I[e]))){for(M in t)i.o(t,M)&&(i.m[M]=t[M]);if(l)var n=l(i)}for(e&&e(g);A<C.length;A++)c=C[A],i.o(I,c)&&I[c]&&I[c][0](),I[c]=0;return i.O(n)},g=self.webpackChunkmotionpage=self.webpackChunkmotionpage||[];g.forEach(e.bind(null,0)),g.push=e.bind(null,g.push.bind(g))})();var M=i.O(void 0,[166],(()=>i(688)));M=i.O(M)})();