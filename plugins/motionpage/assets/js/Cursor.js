function e(){return(e=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(e[i]=o[i])}return e}).apply(this,arguments)}let t=e=>{var t;return null!=(t=null==e?void 0:e.filter(({key:e})=>!!e).reduce((e,t)=>(e[t.key]=t.value,e),{}))?t:{}},o=t=>{let o=[];for(let i of t){if("transform"===i.key&&o.some(e=>"transform"===e.key)){let t=o.find(e=>"transform"===e.key),s=`${null==t?void 0:t.value} ${i.value}`.split(" ").filter((e,t,o)=>o.indexOf(e)===t).join(" ");o.push(e({},i,{value:s}));continue}o.push(i)}return o},i={duration:.15,ease:"power3.inOut"},s=e=>{var t;return{duration:null!=(t=null==e?void 0:e.duration)?t:i.duration,ease:(null==e?void 0:e.ease)?`${e.ease}.inOut`:i.ease}},r={key:"transform",value:"translate(-50%, -50%)",id:"_c_"},n={constructor:"BasicCursor",smooth:.25,squeeze:!1,default:{enabled:!0,properties:[r]},hover:{enabled:!0,targets:[],properties:[r]},click:{enabled:!0,properties:[r]}};export class BaseCursor{init(){this.checkTouchScreen()||(this.createCursorContainer(),this.createCursor(),this.addEventListeners(),this.setInitialPosition(),this.createQuickSetters(),this.createTicker())}createCursorContainer(){let e=`mp-cursor-container-${this.id}`;if(document.getElementById(e)){var t;null==(t=document.getElementById(e))||t.remove()}this.cursorContainer=document.createElement("div"),this.cursorContainer.setAttribute("id",e);let o=this.defaultPropertiesRecord["mix-blend-mode"]||this.defaultPropertiesRecord.mixBlendMode||"normal",i=this.defaultPropertiesRecord["z-index"]||this.defaultPropertiesRecord.zIndex||"9999";Object.assign(this.cursorContainer.style,{position:"fixed",pointerEvents:"none",top:"0",left:"0",width:"0",height:"0",mixBlendMode:o,zIndex:i}),document.body.appendChild(this.cursorContainer),document.getElementById(e)&&window.self===window.top&&gsap.set(this.cursorContainer,this.initialCursorPosition)}createCursor(){var t,o,i;let s=`mp-cursor-${this.id}`;document.getElementById(s)&&(null==(i=document.getElementById(s))||i.remove());let r={pointerEvents:"none",position:"absolute",top:"0",left:"0",transform:"translate(-50%, -50%)"},n=document.createElement("mp-cursor"),l=e({},this.defaultPropertiesRecord,{"mix-blend-mode":void 0,mixBlendMode:void 0,"z-index":void 0,zIndex:void 0});for(let[e,t]of Object.entries(l))void 0===t&&delete l[e];n.setAttribute("id",s),Object.assign(n.style,e({},r,l)),null==(t=this.cursorContainer)||t.appendChild(n);let d=null==(o=this.cursorContainer)?void 0:o.querySelector(`#${s}`);d&&(gsap.set(d,e({},r,l)),this.cursor=d)}createTicker(){gsap.ticker.add(()=>this.handleAnimation())}createQuickSetters(){this.xSet=gsap.quickSetter(this.cursorContainer,"x","px"),this.ySet=gsap.quickSetter(this.cursorContainer,"y","px")}handleAnimation(){var t;let o=Math.pow((null==(t=this.config)?void 0:t.smooth)||.2,2.5),i=0===o?1e-6:o,s=1-Math.pow(1e-4,gsap.ticker.deltaRatio()),r=this.handleSqueeze(this.cursorPosition,this.mousePosition);this.cursorPosition.x+=(this.mousePosition.x-this.cursorPosition.x)*s*i,this.cursorPosition.y+=(this.mousePosition.y-this.cursorPosition.y)*s*i,null==this.xSet||this.xSet.call(this,this.cursorPosition.x),null==this.ySet||this.ySet.call(this,this.cursorPosition.y),gsap.to(this.cursorContainer,e({overwrite:"auto"},r,{duration:.3}))}setInitialPosition(){this.mousePosition.x=this.initialCursorPosition.x,this.mousePosition.y=this.initialCursorPosition.y,this.cursorPosition=e({},this.mousePosition)}addEventListeners(){var e,t,o,i;if(document.addEventListener("mousemove",this.onMouseMove.bind(this)),(null==(t=this.config)?void 0:null==(e=t.click)?void 0:e.enabled)&&(document.addEventListener("mousedown",this.onMouseDown.bind(this)),document.addEventListener("mouseup",this.onMouseUp.bind(this))),!(null==(i=this.config)?void 0:null==(o=i.hover)?void 0:o.enabled))return;let{targets:s}=this.config.hover;for(let e of null!=s?s:[])for(let t of document.querySelectorAll(e))t.addEventListener("mouseenter",this.onMouseEnter.bind(this)),t.addEventListener("mouseleave",this.onMouseLeave.bind(this))}onMouseMove(e){if(this.mousePosition.x=e.clientX,this.mousePosition.y=e.clientY,!this.isCursorMoved){var t,o;this.isCursorMoved=!0,gsap.to(this.cursorContainer,{x:this.initialCursorPosition.x,y:this.initialCursorPosition.y,duration:.3,delay:null!=(o=null==(t=this.config.default.transition)?void 0:t.duration)?o:0})}}resetCursor(){if(!this.cursor)return;let t=s(this.config.default.transition),o=e({},this.defaultPropertiesRecord);(o["mix-blend-mode"]||o.mixBlendMode)&&(gsap.to(this.cursorContainer,e({mixBlendMode:o["mix-blend-mode"]||o.mixBlendMode||"normal"},t)),delete o["mix-blend-mode"],delete o.mixBlendMode),(o["z-index"]||o.zIndex)&&(gsap.to(this.cursorContainer,e({zIndex:o["z-index"]||o.zIndex||"auto"},t)),delete o["z-index"],delete o.zIndex),gsap.to(this.cursor,e({overwrite:!0},o,t))}onMouseEnter(){}onMouseLeave(){}onMouseDown(){}onMouseUp(){}handleSqueeze(e,t){var o;if(!(null==(o=this.config)?void 0:o.squeeze))return{};let i={x:e.x-t.x,y:e.y-t.y},s=1-(Math.exp(Math.sqrt(Math.pow(i.x,2)+Math.pow(i.y,2))/150)-1)/10;return Number.isNaN(s)?{}:{scale:Math.max(.55,Math.min(1.2,s))}}checkTouchScreen(){return"ontouchstart"in window||navigator.maxTouchPoints}destroy(){var e,t;if(this.cursorContainer&&this.cursorContainer.remove(),document.body.style.cursor="auto",document.removeEventListener("mousemove",this.onMouseMove.bind(this)),document.removeEventListener("mousedown",this.onMouseDown.bind(this)),document.removeEventListener("mouseup",this.onMouseUp.bind(this)),!(null==(t=this.config)?void 0:null==(e=t.hover)?void 0:e.enabled))return;let{targets:o}=this.config.hover;for(let e of null!=o?o:[])for(let t of document.querySelectorAll(e))t.removeEventListener("mouseenter",this.onMouseEnter.bind(this)),t.removeEventListener("mouseleave",this.onMouseLeave.bind(this))}updateConfig(e,t){}printConfig(){console.log("Current Cursor Configuration:",JSON.stringify(this.config,null,2))}constructor(i,s=n){var r,l,d,u,a,h,c,p,m,v,x,M,f,g,E,y,b,C,T,P,L,A,w,I,R;this.id="",this.cursorContainer=null,this.cursor=null,this.cursorPosition={x:0,y:0},this.mousePosition={x:0,y:0},this.cursorState="DEFAULT",this.xSet=null,this.ySet=null,this.defaultPropertiesRecord={},this.clickPropertiesRecord={},this.hoverPropertiesRecord={},this.isCursorMoved=!1,this.initialCursorPosition={x:window.self===window.top?-100:window.innerWidth/2,y:window.self===window.top?-100:window.innerHeight/2};let z=o([...null!=(f=s.default.properties)?f:[],...null!=(g=null==(r=i.default)?void 0:r.properties)?g:[]]),S=o([...null!=(E=null==(l=s.click)?void 0:l.properties)?E:[],...null!=(y=null==(d=i.click)?void 0:d.properties)?y:[]]),B=o([...null!=(b=null==(u=s.hover)?void 0:u.properties)?b:[],...null!=(C=null==(a=i.hover)?void 0:a.properties)?C:[]]);this.config=e({},s,i,{default:e({},s.default,i.default,{enabled:null!=(T=null==(h=i.default)?void 0:h.enabled)?T:s.default.enabled,properties:z}),click:e({},s.click,i.click,{enabled:null!=(L=null!=(P=null==(c=i.click)?void 0:c.enabled)?P:null==(p=s.click)?void 0:p.enabled)&&L,properties:S}),hover:e({},s.hover,i.hover,{targets:null!=(w=null!=(A=null==(m=i.hover)?void 0:m.targets)?A:null==(v=s.hover)?void 0:v.targets)?w:[],enabled:null!=(R=null!=(I=null==(x=i.hover)?void 0:x.enabled)?I:null==(M=s.hover)?void 0:M.enabled)&&R,properties:B})}),this.defaultPropertiesRecord=t(o(z)),this.clickPropertiesRecord=t(o(S)),this.hoverPropertiesRecord=t(o(B)),this.id=i.id,this.init()}}export class BasicCursor extends BaseCursor{onMouseUp(){super.resetCursor()}onMouseDown(){var t,o;if(!this.cursor&&(null==(t=this.config.click)?void 0:t.enabled))return;let i=s(null==(o=this.config.click)?void 0:o.transition),r=e({},this.clickPropertiesRecord);(r["mix-blend-mode"]||r.mixBlendMode)&&(gsap.to(this.cursorContainer,e({mixBlendMode:r["mix-blend-mode"]||r.mixBlendMode},i)),delete r["mix-blend-mode"],delete r.mixBlendMode),(r["z-index"]||r.zIndex)&&(gsap.to(this.cursorContainer,e({zIndex:r["z-index"]||r.zIndex},i)),delete r["z-index"],delete r.zIndex),gsap.to(this.cursor,e({overwrite:"auto"},r,i))}onMouseLeave(){this.cursorState="DEFAULT",this.resetCursor()}onMouseEnter(){var t;if(!this.cursor&&!(null==(t=this.config.hover)?void 0:t.enabled))return;let{hover:o}=this.config,i=s(null==o?void 0:o.transition),r=e({},this.hoverPropertiesRecord);(r["mix-blend-mode"]||r.mixBlendMode)&&(gsap.to(this.cursorContainer,e({mixBlendMode:r["mix-blend-mode"]||r.mixBlendMode},i)),delete r["mix-blend-mode"],delete r.mixBlendMode),(r["z-index"]||r.zIndex)&&(gsap.to(this.cursorContainer,e({zIndex:r["z-index"]||r.zIndex},i)),delete r["z-index"],delete r.zIndex),gsap.to(this.cursor,e({overwrite:"auto",onComplete:()=>{this.cursorState="HOVER"}},r,i))}}export class TextCursor extends BasicCursor{styleCursor(){this.cursor&&(this.cursor.style.display="grid",this.cursor.style.placeItems="center")}initText(){var e;let t=document.createElement("div");this.text=t,null==(e=this.cursor)||e.appendChild(this.text)}addAttributeEventsListeners(){for(let e of[...document.querySelectorAll("[mp-cursor-text]")])e.addEventListener("mouseenter",this.handleMouseEnter.bind(this)),e.addEventListener("mouseleave",this.handleMouseLeave.bind(this))}handleMouseEnter(e){let t=e.target;if(!t.hasAttribute("mp-cursor-text"))return;this.currentTextTarget=t;let o=t.getAttribute("mp-cursor-text")||"";this.text&&(this.text.innerHTML=o),this.onMouseEnter()}handleMouseLeave(){this.currentTextTarget=null,this.onMouseLeave()}onMouseEnter(){var t;super.onMouseEnter();let o=s(null==(t=this.config.hover)?void 0:t.transition);gsap.to(this.text,e({overwrite:!0,opacity:1},o))}onMouseLeave(){gsap.to(this.text,{overwrite:"auto",opacity:0,duration:.1,onComplete:()=>{super.onMouseLeave()}})}onMouseDown(){}onMouseUp(){}destroy(){for(let e of(super.destroy(),[...document.querySelectorAll("[mp-cursor-text")]))e.removeEventListener("mouseenter",this.handleMouseEnter.bind(this)),e.removeEventListener("mouseleave",this.handleMouseLeave.bind(this))}constructor(e){var i;super(e),this.text=null,this.currentTextTarget=null,this.textPropertiesRecord={},this.defaultTextPropertiesRecord={fontSize:"1rem",color:"white",opacity:"0"},this.styleCursor(),this.initText(),this.textPropertiesRecord=(null==(i=e.text)?void 0:i.properties)?t(o(e.text.properties)):this.defaultTextPropertiesRecord,this.addAttributeEventsListeners(),gsap.set(this.cursor,this.defaultPropertiesRecord),gsap.set(this.text,this.textPropertiesRecord)}}void 0===window.MOTIONPAGE_FRONT&&(window.MOTIONPAGE_FRONT={}),window.MOTIONPAGE_FRONT.cursorClasses={BaseCursor,BasicCursor,OutlineCursor:class extends BasicCursor{},InvertCursor:class extends BasicCursor{},TooltipCursor:class extends BasicCursor{createTooltipElement(){this.tooltipElement=document.createElement("mp-cursor-tooltip"),this.tooltipElement.classList.add("mp-cursor-tooltip"),this.tooltipElement.style.position="fixed",this.tooltipElement.style.pointerEvents="none",this.tooltipElement.style.zIndex="999999",this.tooltipElement.style.opacity="0",this.tooltipElement.style.transition=`opacity ${s(this.config.default.transition).duration}s ease-in-out`,document.body.appendChild(this.tooltipElement)}createTooltipCss(){var e,t;this.tooltipCss=document.createElement("style");let o=null==(t=this.cursorTooltipOptions)?void 0:null==(e=t.properties)?void 0:e.map(({key:e,value:t})=>`${e}: ${t};`).join("");this.tooltipCss.innerHTML=`.mp-cursor-tooltip {${o}}`,document.head.appendChild(this.tooltipCss)}onMouseMove(e){super.onMouseMove(e),this.tooltipElement&&(this.tooltipElement.style.left=`${e.clientX+15}px`,this.tooltipElement.style.top=`${e.clientY+15}px`);let t=e.target;this.handleTooltip(t)}addEventListeners(){var e,t,o,i;if(document.addEventListener("mousemove",this.onMouseMove.bind(this)),(null==(t=this.config)?void 0:null==(e=t.click)?void 0:e.enabled)&&(document.addEventListener("mousedown",this.onMouseDown.bind(this)),document.addEventListener("mouseup",this.onMouseUp.bind(this))),null==(i=this.config)?void 0:null==(o=i.hover)?void 0:o.enabled)for(let e of[...document.querySelectorAll("[mp-cursor-tooltip]")])e.addEventListener("mouseenter",this.onMouseEnter.bind(this)),e.addEventListener("mouseleave",this.onMouseLeave.bind(this))}handleTooltip(e){let t=e.getAttribute("mp-cursor-tooltip");if(t&&this.tooltipElement){e!==this.currentTooltipTarget&&(this.currentTooltipTarget=e,this.tooltipElement.textContent=t,this.tooltipElement.style.opacity="1",this.onMouseEnter());return}this.currentTooltipTarget&&this.tooltipElement&&(this.currentTooltipTarget=null,this.tooltipElement.style.opacity="0",this.onMouseLeave())}onMouseEnter(){var t,o;if(!(this.cursor&&(null==(t=this.config.hover)?void 0:t.enabled)))return;let i=s(null==(o=this.config.hover)?void 0:o.transition),r=e({},this.hoverPropertiesRecord);(r["mix-blend-mode"]||r.mixBlendMode)&&(gsap.to(this.cursorContainer,e({mixBlendMode:r["mix-blend-mode"]||r.mixBlendMode},i)),delete r["mix-blend-mode"],delete r.mixBlendMode),(r["z-index"]||r.zIndex)&&(gsap.to(this.cursorContainer,e({zIndex:r["z-index"]||r.zIndex},i)),delete r["z-index"],delete r.zIndex),gsap.to(this.cursor,e({overwrite:"auto",onComplete:()=>{this.cursorState="HOVER"}},r,i))}onMouseLeave(){this.cursorState="DEFAULT",this.resetCursor()}destroy(){var e,t,o;if(super.destroy(),null==(e=this.tooltipElement)||e.remove(),null==(o=this.config)?void 0:null==(t=o.hover)?void 0:t.enabled)for(let e of[...document.querySelectorAll("[mp-cursor-tooltip]")])e.removeEventListener("mouseenter",this.onMouseEnter.bind(this)),e.removeEventListener("mouseleave",this.onMouseLeave.bind(this))}constructor(t){var o,i,s;super(e({},t,{id:null!=(i=null==(o=t.tooltipCursorOptions)?void 0:o.id)?i:t.id})),this.cursorTooltipOptions=null,this.tooltipElement=null,this.tooltipCss=null,this.currentTooltipTarget=null,this.cursorTooltipOptions=null!=(s=null==t?void 0:t.tooltipCursorOptions)?s:null,this.createTooltipCss(),this.createTooltipElement()}},TextCursor,MediaCursor:class extends BasicCursor{preloadMedia(){if(this.mediaElement)for(let e of[...document.querySelectorAll(`[${this.DATA_ATTR_MEDIA}]`)]){let t=e.getAttribute(this.DATA_ATTR_MEDIA)||"";if("image"===this.getMediaType(t)){this.preloadImage(t);continue}this.preloadVideo(t)}}preloadImage(e){if(this.loadedImages.has(e))return;let t=new Image;t.src=e,t.onload=()=>{this.loadedImages.set(e,t)}}preloadVideo(e){let t=document.createElement("video");t.src=e,t.autoplay=!0,t.muted=!0,t.loop=!0,t.preload="auto",t.load(),t.onloadeddata=()=>{this.loadedVideos.set(e,t)}}getMediaType(e){return e.endsWith(".mp4")||e.endsWith(".webm")?"video":"image"}styleCursor(){this.cursor&&(this.cursor.style.display="grid",this.cursor.style.placeItems="center")}createMediaElements(){var e,t,o,i;let s=document.createElement("img");s.style.display="none";let r=document.createElement("video");r.autoplay=!0,r.muted=!0,r.loop=!0,r.style.display="none",null==(e=this.cursor)||e.appendChild(s),null==(t=this.cursor)||t.appendChild(r);let n=null==(o=this.cursor)?void 0:o.querySelector("img"),l=null==(i=this.cursor)?void 0:i.querySelector("video");n&&gsap.set(n,this.mediaPropertiesRecord),l&&gsap.set(l,this.mediaPropertiesRecord),this.mediaElement=s}addAttributeEventsListeners(){for(let e of[...document.querySelectorAll(`[${this.DATA_ATTR_MEDIA}]`)])e.addEventListener("mouseenter",this.handleMouseEnter.bind(this)),e.addEventListener("mouseleave",this.handleMouseLeave.bind(this))}handleMouseEnter(e){var t,o;let i=e.target;if(!i.hasAttribute(this.DATA_ATTR_MEDIA))return;this.currentMediaTarget=i;let s=i.getAttribute(this.DATA_ATTR_MEDIA)||"",r=this.getMediaType(s),n=null==(t=this.cursor)?void 0:t.querySelector("img"),l=null==(o=this.cursor)?void 0:o.querySelector("video");if("image"===r&&n)this.loadedImages.has(s)?n.src=this.loadedImages.get(s).src:(n.src=s,this.preloadImage(s)),n.style.display="block",l&&(l.style.display="none"),this.mediaElement=n;else if("video"===r&&l){if(this.loadedVideos.has(s)){let e=this.loadedVideos.get(s);l.src=e.src,l.currentTime=e.currentTime}else l.src=s,this.preloadVideo(s);l.style.display="block",l.play().catch(()=>{}),n&&(n.style.display="none"),this.mediaElement=l}this.onMouseEnter()}handleMouseLeave(){this.currentMediaTarget=null,this.onMouseLeave()}onMouseEnter(){super.onMouseEnter()}onMouseLeave(){super.onMouseLeave()}onMouseDown(){}onMouseUp(){}destroy(){for(let e of(super.destroy(),[...document.querySelectorAll(`[${this.DATA_ATTR_MEDIA}]`)]))e.removeEventListener("mouseenter",this.handleMouseEnter.bind(this)),e.removeEventListener("mouseleave",this.handleMouseLeave.bind(this))}constructor(e){var i;super(e),this.DATA_ATTR_MEDIA="mp-cursor-media",this.mediaElement=null,this.currentMediaTarget=null,this.mediaPropertiesRecord={},this.defaultMediaPropertiesRecord={width:"50px",height:"50px",borderRadius:"999px",objectFit:"cover",opacity:"1"},this.loadedImages=new Map,this.loadedVideos=new Map,this.mediaPropertiesRecord=(null==(i=e.media)?void 0:i.properties)?t(o(e.media.properties)):this.defaultMediaPropertiesRecord,this.styleCursor(),this.createMediaElements(),this.addAttributeEventsListeners(),setTimeout(this.preloadMedia,100),gsap.set(this.cursor,this.defaultPropertiesRecord)}}};